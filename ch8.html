<html>
  <head>
<title>Chapter 8. Tools Maintenance</title>
</head>
<body>
<h1>Chapter 8. Tools Maintenance</h1>

<h2>Special Cases, p 190</h2>
<h3>We wrote</h3>
<i>This was an arbitrary assumption, defeated by the fact that in the context of ClearCase,
the path returned would point inside the cleartext pool.</i>

<h3>Correction</h3>
Comparing the path returned under Linux
to the one returned in a similar case under Solaris makes it clear
that the former is incorrect.

<h4>RedHat 5.3 (2.6 kernel), with ClearCase 7.0.1</h4>
<pre>
$ /vob/tst/lsl -l /proc/self/exe
lrwxrwxrwx 1 shpichko admcc 0 Jul  6 11:25 /proc/self/exe -&gt; /filer/vstg/tst.vbs/c/cdft/41/38/113d8057a7a811e08e6b0022649817a8
</pre>
<h4>Solaris</h4>
<pre>
$ /vob/tst/lss -l /proc/self/path/a.out
lrwxrwxrwx 1 shpichko admcc 0 Jul  6 11:19 /proc/self/path/a.out -&gt; /vob/tst/lss
</pre>
In the above tests,
we imported to the vob the Linux version of the standard UNIX tool <i>ls</i>
as <i>lsl</i>, and the Solaris version as <i>lss</i>.
<br>We used both on hosts of the respective platforms,
to show the path made available to the running process by the operating system,
using the <i>/proc</i> file system
(slightly different syntaxes in the two cases) and the <i>readlink</i> system call.

<p>We can see that the path returned under Solaris is correctly virtualized,
hence is usable by the process to determine colocated tools, under the same view.
<br>This is not the case under Linux,
which caused the problem we mentioned with Java 1.4.2.

<p>Whereas the problem was real,
hence still justifies our picking it as an example of a "special case",
the root cause was a bug which IBM classified as a vendor issue,
and was eventually fixed in RHEL6 and SLES11 (released in November 2010),
supported by ClearCase versions 7.1.1.x and above.

<h3>Comment</h3>
With the original sentence, we accepted the experienced situation as a matter of fact.
It did not come to our mind to compare the path returned under Linux
to the one returned under Solaris.

</body>
</html>
